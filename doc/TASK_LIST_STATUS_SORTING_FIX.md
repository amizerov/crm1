# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ TaskList

**–î–∞—Ç–∞**: 8 –æ–∫—Ç—è–±—Ä—è 2025  
**–ö–æ–º–º–∏—Ç**: `653e066`  
**–§–∞–π–ª**: `src/app/tasks/views/list/TaskList.tsx`

## –ü—Ä–æ–±–ª–µ–º–∞

–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `task.statusName` (—Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø–æ–ª–µ)
- –ì—Ä—É–ø–ø—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å **–ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É**: `Object.keys(groupedTasks).sort()`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç–∞—Ç—É—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (–ø–æ `stepOrder` –∏–∑ –ë–î):**
1. –ó–∞–¥—É–º–∫–∏ (stepOrder = 1)
2. –í –ø—Ä–æ—Ü–µ—Å—Å–µ (stepOrder = 2)
3. –ì–æ—Ç–æ–≤–æ (stepOrder = 3)

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ (–ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É):**
1. –í –ø—Ä–æ—Ü–µ—Å—Å–µ
2. –ì–æ—Ç–æ–≤–æ
3. –ó–∞–¥—É–º–∫–∏

---

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `statusId` –≤–º–µ—Å—Ç–æ `statusName`

**–î–æ:**
```typescript
case 'status':
  key = task.statusName || '–ë–µ–∑ —Å—Ç–∞—Ç—É—Å–∞';
  break;
```

**–ü–æ—Å–ª–µ:**
```typescript
case 'status': {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º statusId –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
  const status = statuses.find(s => s.id === task.statusId);
  key = status?.status || '–ë–µ–∑ —Å—Ç–∞—Ç—É—Å–∞';
  break;
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
- ‚úÖ –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ –ë–î ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏–º –æ—Ç –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—è `task.statusName`

---

### –®–∞–≥ 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≥—Ä—É–ø–ø –ø–æ `stepOrder`

**–î–æ:**
```typescript
const groupKeys = Object.keys(groupedTasks).sort();
```

**–ü–æ—Å–ª–µ:**
```typescript
const groupKeys = Object.keys(groupedTasks).sort((a, b) => {
  if (groupBy === 'status') {
    // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∞—Ç—É—Å—ã –ø–æ stepOrder –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
    const statusA = statuses.find(s => s.status === a);
    const statusB = statuses.find(s => s.status === b);
    return (statusA?.stepOrder || 999) - (statusB?.stepOrder || 999);
  }
  // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø–∏—Ä–æ–≤–æ–∫ ‚Äî –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
  return a.localeCompare(b);
});
```

**–õ–æ–≥–∏–∫–∞:**
1. –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É (`groupBy === 'status'`):
   - –ù–∞—Ö–æ–¥–∏–º –æ–±—ä–µ–∫—Ç —Å—Ç–∞—Ç—É—Å–∞ –≤ –º–∞—Å—Å–∏–≤–µ `statuses` –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   - –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ `stepOrder` (–º–µ–Ω—å—à–µ = —Ä–∞–Ω—å—à–µ)
   - –ï—Å–ª–∏ `stepOrder` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å—Ç–∞–≤–∏–º –≤ –∫–æ–Ω–µ—Ü (999)
2. –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø–∏—Ä–æ–≤–æ–∫ (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ —Ç.–¥.):
   - –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É —á–µ—Ä–µ–∑ `localeCompare()`

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `StatusTask`:

```typescript
interface StatusTask {
  id: number;
  status: string;        // –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  stepOrder: number;     // –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  isCompleted?: boolean; // –§–ª–∞–≥ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
}
```

### –î–∞–Ω–Ω—ã–µ, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```typescript
interface TaskListProps {
  tasks: Task[];          // –ú–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á —Å task.statusId
  statuses: StatusTask[]; // –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ (—Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
}
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å—Ç–∞—Ç—É—Å–æ–≤** ‚Äî —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `stepOrder` –∏–∑ –ë–î
2. **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** ‚Äî –±–µ—Ä—É—Ç—Å—è –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞, –∞ –Ω–µ –∏–∑ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—è
3. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º** ‚Äî –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å, —Ñ–∏–ª—å—Ç—Ä—ã/–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ —Å–ª–æ–º–∞—é—Ç—Å—è
4. **–ß–∏—Ç–∞–µ–º—ã–π –∫–æ–¥** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ –ª–æ–≥–∏–∫—É

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- `statuses.find()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ
- –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å `Map<statusId, StatusTask>`:

```typescript
// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ø–æ–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):
const statusMap = useMemo(() => 
  new Map(statuses.map(s => [s.id, s])),
  [statuses]
);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const status = statusMap.get(task.statusId);
```

---

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏"

**–°–µ–π—á–∞—Å** (—Ö–∞—Ä–¥–∫–æ–¥):
```typescript
if (filters.completed) {
  filtered = filtered.filter(task => 
    task.statusName === '–ì–æ—Ç–æ–≤–æ' || task.statusName === '–ó–∞–≤–µ—Ä—à–µ–Ω–æ'
  );
}
```

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è** (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥):
```typescript
if (filters.completed) {
  const completedStatusIds = statuses
    .filter(s => s.isCompleted)
    .map(s => s.id);
  filtered = filtered.filter(task => 
    completedStatusIds.includes(task.statusId)
  );
}
```

### 2. –í—ã–Ω–µ—Å—Ç–∏ –≤–µ—Å–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–°–µ–π—á–∞—Å** (—Ö–∞—Ä–¥–∫–æ–¥):
```typescript
const priorityOrder: Record<string, number> = {
  '–°—Ä–æ—á–Ω—ã–π': 4, '–í—ã—Å–æ–∫–∏–π': 3, '–°—Ä–µ–¥–Ω–∏–π': 2, '–ù–∏–∑–∫–∏–π': 1,
};
```

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è**: —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î –∏–ª–∏ `TASK_COLUMNS` –∫–æ–Ω—Ñ–∏–≥–µ

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

```typescript
const statusMap = useMemo(() => 
  new Map(statuses.map(s => [s.id, s])),
  [statuses]
);
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

1. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
2. –í—ã–±—Ä–∞—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É "–ü–æ —ç—Ç–∞–ø—É"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≥—Ä—É–ø–ø ‚Äî –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å `stepOrder` –∏–∑ –ë–î

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
‚úÖ –ó–∞–¥—É–º–∫–∏ (stepOrder=1)
   - –ó–∞–¥–∞—á–∞ 1
   - –ó–∞–¥–∞—á–∞ 2

‚úÖ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (stepOrder=2)
   - –ó–∞–¥–∞—á–∞ 3

‚úÖ –ì–æ—Ç–æ–≤–æ (stepOrder=3)
   - –ó–∞–¥–∞—á–∞ 4
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã

- `d8eed29` ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ "–ú–æ–∏ –∑–∞–¥–∞—á–∏" (–¥–æ–±–∞–≤–ª–µ–Ω `currentUserId`)
- `653e066` ‚Äî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `statusId` –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `stepOrder` (—Ç–µ–∫—É—â–∏–π)

## –ê–≤—Ç–æ—Ä—ã

- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã: GitHub Copilot
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: GitHub Copilot
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
